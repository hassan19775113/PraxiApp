[
  {
    "id": 1,
    "title": "Epic: Stabilize CI/CD Pipeline",
    "body": "Stabilize workflows with deterministic environments, isolated services, artifact hygiene, and guard rails for backend readiness.",
    "labels": ["epic", "P0", "ci", "backend"]
  },
  {
    "id": 2,
    "title": "Epic: Refactor Scheduling Engine Into Service Layer",
    "body": "Introduce a clear service layer, contracts, and orchestration to replace fat serializers and tangled logic.",
    "labels": ["epic", "P0", "backend", "architecture"]
  },
  {
    "id": 3,
    "title": "Epic: Add Unit Test Coverage for Scheduling Engine",
    "body": "Backfill targeted tests and harnesses that validate the scheduling engine without brittle integration steps.",
    "labels": ["epic", "P0", "tests", "backend"]
  },
  {
    "id": 4,
    "title": "Epic: Security Hardening & Secret Management",
    "body": "Replace hardcoded secrets, enforce least-privilege, and add automated scanning and rotation.",
    "labels": ["epic", "P0", "security", "backend", "ci"]
  },
  {
    "id": 5,
    "title": "Epic: Standardize API Error Handling",
    "body": "Deliver a predictable DRF error contract with traceability, tests, and documentation.",
    "labels": ["epic", "P0", "api", "backend"]
  },
  {
    "id": 6,
    "title": "Epic: Observability & Logging Improvements",
    "body": "Add structured logging, metrics, and tracing for the scheduling stack with compliance controls.",
    "labels": ["epic", "P0", "observability", "backend"]
  },
  {
    "id": 7,
    "title": "Epic: Documentation & Developer Experience",
    "body": "Provide runbooks, dev containers, and automated changelog tooling to reduce onboarding friction.",
    "labels": ["epic", "P1", "docs", "dx"]
  },
  {
    "id": 8,
    "title": "Pin Workflow Dependencies and Runtime Versions",
    "body": "**Problem Summary**: Workflow executions drift between Node, Python, and Playwright versions causing flaky installs and cache misses.\n\n**Acceptance Criteria**:\n- Actions workflows pin Node, Python, Playwright, and pip versions.\n- Cache keys include version hashes for determinism.\n- Successful dry run proves reproducible environment setup.",
    "labels": ["P0", "ci", "backend"],
    "epic": 1
  },
  {
    "id": 9,
    "title": "Provision Deterministic Postgres Service",
    "body": "**Problem Summary**: Shared Postgres service definitions leak state between jobs leading to inconsistent migration behavior.\n\n**Acceptance Criteria**:\n- Each workflow job provisions an isolated Postgres container with health checks.\n- Retry logic waits up to 90 seconds before failing.\n- Connection diagnostics appended to backend-logs artifact.",
    "labels": ["P0", "ci", "backend", "database"],
    "epic": 1
  },
  {
    "id": 10,
    "title": "Introduce Backend Smoke Gate",
    "body": "**Problem Summary**: Missing HTTP readiness probes cause downstream jobs to hit a half-ready Django server.\n\n**Acceptance Criteria**:\n- Add explicit HTTP health probe with timeout and log dump on failure.\n- Seed-orchestrator and page-smoke depend on the gate step.\n- Pipeline README documents the gate behavior.",
    "labels": ["P1", "ci", "tests"],
    "epic": 1
  },
  {
    "id": 11,
    "title": "Consolidate CI Artifacts",
    "body": "**Problem Summary**: Logs and agent outputs are scattered across jobs, delaying debugging.\n\n**Acceptance Criteria**:\n- Every job uploads backend-logs plus agent outputs under consistent naming.\n- Artifact retention configured to seven days.\n- Workflow summary lists artifact download links.",
    "labels": ["P1", "ci", "dx"],
    "epic": 1
  },
  {
    "id": 12,
    "title": "Define Scheduling Domain Contracts",
    "body": "**Problem Summary**: Scheduling rules live in serializers with no documented boundaries or invariants.\n\n**Acceptance Criteria**:\n- Create an ADR describing inputs, outputs, and invariants of the scheduling engine.\n- Map existing serializer logic to service operations.\n- Architecture owner approves the contract.",
    "labels": ["P1", "backend", "docs"],
    "epic": 2
  },
  {
    "id": 13,
    "title": "Implement SchedulingService Interface",
    "body": "**Problem Summary**: Lack of service abstraction prevents reuse and isolated testing.\n\n**Acceptance Criteria**:\n- Introduce a SchedulingService class with plan, commit, and rollback methods.\n- Serializer and view layers invoke the service instead of direct ORM logic.\n- Add type hints and docstrings for public methods.",
    "labels": ["P0", "backend", "architecture"],
    "epic": 2
  },
  {
    "id": 14,
    "title": "Extract Validation Logic from Serializers",
    "body": "**Problem Summary**: Fat serializers mix validation, orchestration, and persistence concerns.\n\n**Acceptance Criteria**:\n- Move business validations into a dedicated validators module used by the service.\n- Serializers focus on shape and basic field validation only.\n- API responses remain unchanged.",
    "labels": ["P1", "backend", "api"],
    "epic": 2
  },
  {
    "id": 15,
    "title": "Introduce Scheduling Orchestration Module",
    "body": "**Problem Summary**: Bulk scheduling logic is duplicated across tasks and cron jobs.\n\n**Acceptance Criteria**:\n- Create an orchestration helper handling batching, retries, and conflict resolution.\n- Expose hooks for async tasks and background workers.\n- Document usage in the developer guide.",
    "labels": ["P2", "backend"],
    "epic": 2
  },
  {
    "id": 16,
    "title": "Build Scheduling Engine Test Harness",
    "body": "**Problem Summary**: No isolated harness exists to test scheduling flows without hitting the database.\n\n**Acceptance Criteria**:\n- Provide fixtures and mocks for service dependencies.\n- Support running tests via pytest and Django test runner.\n- Include harness in the CI matrix.",
    "labels": ["P0", "tests", "backend"],
    "epic": 3
  },
  {
    "id": 17,
    "title": "Cover Conflict Resolution Rules",
    "body": "**Problem Summary**: Overlap detection regressions slip through due to missing targeted tests.\n\n**Acceptance Criteria**:\n- Add unit tests for overlapping appointments, resources, and rooms.\n- Include positive and negative scenarios with assertions on error codes.\n- Report coverage deltas in CI output.",
    "labels": ["P0", "tests", "backend"],
    "epic": 3
  },
  {
    "id": 18,
    "title": "Validate Capacity Planning Calculations",
    "body": "**Problem Summary**: Capacity algorithms lack regression tests causing misallocation.\n\n**Acceptance Criteria**:\n- Add tests for capacity by practitioner, room, and daypart.\n- Simulate edge loads using fixtures without real DB access.\n- Tests must pass deterministically.",
    "labels": ["P1", "tests", "backend"],
    "epic": 3
  },
  {
    "id": 19,
    "title": "Guard Timezone and DST Edge Cases",
    "body": "**Problem Summary**: Scheduling fails during daylight-saving transitions across locales.\n\n**Acceptance Criteria**:\n- Add tests covering forward and backward DST shifts for supported time zones.\n- Verify serialization uses timezone-aware datetimes.\n- Document DST handling strategy.",
    "labels": ["P1", "tests", "backend"],
    "epic": 3
  },
  {
    "id": 20,
    "title": "Integrate Centralized Secret Manager",
    "body": "**Problem Summary**: Secrets are sourced from .env files without rotation or access control.\n\n**Acceptance Criteria**:\n- Integrate the app and CI with the chosen cloud secret manager via adapter.\n- Document local development fallback.\n- CI retrieves secrets via OIDC-backed credentials.",
    "labels": ["P0", "security", "backend", "ci"],
    "epic": 4
  },
  {
    "id": 21,
    "title": "Purge Hardcoded Secrets from Repository",
    "body": "**Problem Summary**: Multiple modules contain plaintext API keys and credentials.\n\n**Acceptance Criteria**:\n- Replace secrets with environment lookups or secret manager references.\n- Add a pre-commit hook scanning for secrets.\n- Scrub git history where feasible and document exceptions.",
    "labels": ["P0", "security", "backend"],
    "epic": 4
  },
  {
    "id": 22,
    "title": "Add Secret Scanning Gate to CI",
    "body": "**Problem Summary**: No automated detection of leaked secrets in pull requests.\n\n**Acceptance Criteria**:\n- Add TruffleHog or Gitleaks step that fails on detections.\n- Upload scan reports as artifacts for triage.\n- Document false-positive handling in README.",
    "labels": ["P1", "security", "ci"],
    "epic": 4
  },
  {
    "id": 23,
    "title": "Enforce Least-Privilege Database Roles",
    "body": "**Problem Summary**: The application uses a superuser role across all environments.\n\n**Acceptance Criteria**:\n- Create a dedicated app role with restricted grants.\n- Update connection strings and migrations to use the new role.\n- Add a migration guard preventing accidental superuser usage.",
    "labels": ["P1", "security", "database"],
    "epic": 4
  },
  {
    "id": 24,
    "title": "Define Global DRF Error Contract",
    "body": "**Problem Summary**: APIs return inconsistent structures for errors, confusing clients.\n\n**Acceptance Criteria**:\n- Publish an error schema with code, message, and trace_id fields.\n- Update the DRF exception handler to emit the schema.\n- Backfill documentation in the OpenAPI spec.",
    "labels": ["P0", "api", "backend"],
    "epic": 5
  },
  {
    "id": 25,
    "title": "Normalize Serializer Validation Errors",
    "body": "**Problem Summary**: Field error responses vary by serializer causing front-end hacks.\n\n**Acceptance Criteria**:\n- Build a central utility to format validation errors consistently.\n- Update the top serializers to use the utility.\n- Add regression tests verifying the schema.",
    "labels": ["P1", "api", "backend"],
    "epic": 5
  },
  {
    "id": 26,
    "title": "Attach Trace IDs to 5xx Responses",
    "body": "**Problem Summary**: Operators cannot correlate API failures with logs.\n\n**Acceptance Criteria**:\n- Middleware injects a trace_id into error responses and logs.\n- Observability documentation updated with lookup steps.\n- Integration test ensures trace_id presence.",
    "labels": ["P1", "api", "observability"],
    "epic": 5
  },
  {
    "id": 27,
    "title": "Add Contract Tests for Error Payloads",
    "body": "**Problem Summary**: No automated guard ensures error payloads stay consistent.\n\n**Acceptance Criteria**:\n- Write pytest contract tests hitting representative endpoints.\n- Tests assert schema compliance and localization behavior.\n- Tests run in CI pipeline.",
    "labels": ["P2", "api", "tests"],
    "epic": 5
  },
  {
    "id": 28,
    "title": "Adopt Structured Logging with Context",
    "body": "**Problem Summary**: Plaintext logs lack context for debugging production outages.\n\n**Acceptance Criteria**:\n- Configure a JSON/logfmt formatter including request_id, user_id, and feature flags.\n- Update log shipping configuration to accept structured payloads.\n- Verify logs in staging before rollout.",
    "labels": ["P0", "observability", "backend"],
    "epic": 6
  },
  {
    "id": 29,
    "title": "Instrument Scheduling Service with APM Traces",
    "body": "**Problem Summary**: No visibility into scheduling performance hotspots.\n\n**Acceptance Criteria**:\n- Add OpenTelemetry spans around scheduling service operations.\n- Export traces to the chosen APM backend.\n- Confirm overhead remains under 200 ms per request.",
    "labels": ["P1", "observability", "backend"],
    "epic": 6
  },
  {
    "id": 30,
    "title": "Emit Scheduling Metrics to Monitoring Stack",
    "body": "**Problem Summary**: Lack of metrics for queue depth or SLA adherence.\n\n**Acceptance Criteria**:\n- Publish metrics for latency, retries, and failures to StatsD/Prometheus.\n- Create dashboards and alerts with ops sign-off.\n- Document metric names and thresholds.",
    "labels": ["P1", "observability", "backend", "ops"],
    "epic": 6
  },
  {
    "id": 31,
    "title": "Define Log Retention and PII Scrubbing",
    "body": "**Problem Summary**: Logs retain personally identifiable information indefinitely.\n\n**Acceptance Criteria**:\n- Implement log scrubbing middleware removing PII fields.\n- Configure retention and deletion automation per compliance needs.\n- Obtain compliance approval.",
    "labels": ["P2", "observability", "security"],
    "epic": 6
  },
  {
    "id": 32,
    "title": "Create Onboarding Runbook",
    "body": "**Problem Summary**: New engineers spend weeks piecing together tribal knowledge.\n\n**Acceptance Criteria**:\n- Write a runbook covering environment setup, env vars, and CI overview.\n- Host in docs/ with a table of contents.\n- Reviewed by at least two recent hires.",
    "labels": ["P1", "docs", "dx"],
    "epic": 7
  },
  {
    "id": 33,
    "title": "Document CI/CD Troubleshooting Guide",
    "body": "**Problem Summary**: Repeated questions arise about pipeline failures and log locations.\n\n**Acceptance Criteria**:\n- Guide lists common failures, log locations, and escalation steps.\n- Linked from workflow summary outputs.\n- Updated whenever new failure mode is discovered.",
    "labels": ["P1", "docs", "ci", "dx"],
    "epic": 7
  },
  {
    "id": 34,
    "title": "Provide Dev Containers for Local Work",
    "body": "**Problem Summary**: Local environments rarely match production, causing works on my machine bugs.\n\n**Acceptance Criteria**:\n- Add a devcontainer with Django, Postgres, and Playwright dependencies.\n- Support VS Code and GitHub Codespaces usage.\n- README includes setup instructions.",
    "labels": ["P2", "dx", "backend"],
    "epic": 7
  },
  {
    "id": 35,
    "title": "Automate Changelog Generation",
    "body": "**Problem Summary**: Manual changelog updates lag behind releases.\n\n**Acceptance Criteria**:\n- Add a release workflow generating changelog from conventional commits.\n- Publish artifact and PR comment on releases.\n- Document the new process in README.",
    "labels": ["P2", "docs", "dx", "ci"],
    "epic": 7
  }
]
